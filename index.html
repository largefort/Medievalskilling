<!DOCTYPE html>
<html>
<head>
  <title>Medieval Idle Game</title>
  <style>
    .resource {
      display: inline-block;
      width: 100px;
      font-weight: bold;
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
    }

    .modal-content {
      position: relative;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: white;
      padding: 20px;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="game-container">
    <p><span class="resource">Wood:</span> <span id="wood">0</span></p>
    <p><span class="resource">Stone:</span> <span id="stone">0</span></p>
    <p><span class="resource">Gold Coins:</span> <span id="gold">0</span></p>
    <button onclick="gather()">Gather</button>
    <button onclick="mine()">Mine</button>
    <button onclick="craft()">Craft</button>
    <button onclick="toggleAutoTrain()">Auto-Train</button>
  </div>
  <div id="tutorialModal" class="modal">
    <div class="modal-content">
      <p id="tutorialText"></p>
      <button onclick="nextTutorial()">Next</button>
    </div>
  </div>
  <script>
    let wood = 0;
    let stone = 0;
    let gold = 0;
    let autoTrainInterval;

    let tutorialSteps = [
      'Welcome to the Medieval Idle Skilling Game! Let\'s get started!',
      'First, you need to gather resources. Click the "Gather" button to collect wood.',
      'Now try mining. Click the "Mine" button to gather stone.',
      'You can also craft items to earn gold coins. Click the "Craft" button.',
      'Want to train automatically? Click the "Auto-Train" button.',
      'That\'s it! Enjoy the game!'
    ];
    let currentTutorialStep = 0;

    function gather() {
      wood++;
      document.getElementById('wood').innerText = wood;
    }

    function mine() {
      stone++;
      document.getElementById('stone').innerText = stone;
    }

    function craft() {
      if (wood >= 5 && stone >= 5) {
        wood -= 5;
        stone -= 5;
        gold++;
        document.getElementById('wood').innerText = wood;
        document.getElementById('stone').innerText = stone;
        document.getElementById('gold').innerText = gold;
      }
    }

    function toggleAutoTrain() {
      if (autoTrainInterval) {
        clearInterval(autoTrainInterval);
        autoTrainInterval = null;
      } else {
        autoTrainInterval = setInterval(() => {
          gather();
          mine();
          craft();
        }, 1000);
      }
    }

    function showTutorial() {
      document.getElementById('tutorialModal').style.display = 'block';
      document.getElementById('tutorialText').innerText = tutorialSteps[currentTutorialStep];
    }

    function nextTutorial() {
      currentTutorialStep++;
      if (currentTutorialStep >= tutorialSteps.length) {
        document.getElementById('tutorialModal').style.display = 'none';
      } else {
        document.getElementById('tutorialText').innerText = tutorialSteps[currentTutorialStep];
      }
    }

    window.onload = function() {
      if (!localStorage.getItem('tutorialCompleted')) {
        showTutorial();
        localStorage.setItem('tutorialCompleted', true);
      }
    };
  </script>
</body>
</html>
